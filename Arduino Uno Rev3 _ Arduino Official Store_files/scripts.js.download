jQuery(document).ready(function($){var lazyLoadSettings={elements_selector:'.lazyload',threshold:100};if(window.IntersectionObserver){var lazyLoadIstance=new LazyLoad(lazyLoadSettings);}else{var lazyLoadIstance=new LazyLoad8(lazyLoadSettings);}
$(document).bind('sc_ajaxcart_product_add_after sc_ajaxcart_product_remove_after',function(e,data,$button){var $cartDropdown=$('.cart-submenu').find('.dropdown-box');if(data.error===0){$('.main-nav').find('.cart-submenu:hidden').slideDown(400).delay(5000).slideUp(400);HeaderCart.fetchDropdown(function(html){$cartDropdown.html(html);});var resetCartDropdownContent=function(){if($cartDropdown.find('.empty').length===1){$cartDropdown.html('<p class="loading-content">Loading ...</p>');}};HeaderCart.fetchCount(function(count){var $cartBadge=$('#cart').find('.badge');$cartBadge.html(count);$cartBadge.toggle(count>0);},resetCartDropdownContent);}else{$('.error.notification').text(data.message);$('.error.notification:hidden').fadeIn('slow').delay(6000).fadeOut('slow');}});$('.show-categories-mobile').on('click',function(e){e.stopPropagation();$(this).toggleClass('open');});(function($){var $notice=$('#sc-global-notice');var $page=$('.wrapper .page');if(!$notice.length){return;}
var _debounce=function(func,wait){var timeout;return function(){var context=this;var args=arguments;clearTimeout(timeout);timeout=setTimeout(function(){timeout=null;func.apply(context,args);},wait);};};$(window).resize(_debounce(function(){$('.arduino-nav').css({top:$notice.height()});$page.css({'margin-top':$notice.height()});$('body').addClass('global-notice');},50)).resize();}(jQuery));var $sidebarMenu=$('.sidebar-categories-menu, .sidebar-top-categories-menu, .sidebar-bottom-categories-menu');$sidebarMenu.find('.has-submenu').on('click',function(e){if($(e.target).parents('.category-sub-menu').length===0){$(this).toggleClass('open').find('ul').stop().slideToggle(400);}}).children('a').on('click',function(e){e.preventDefault();});$sidebarMenu.find('.has-submenu').find('li.active').parents('.has-submenu').click();var validatePattern=function($element,regEx,message){var regex=new RegExp(regEx);var valid=regex.test($element.val());if(valid){$element.parent().find('.validation-advice').remove();$('.address-validate-button').prop('disabled',false);}else{if($element.parent().find('.validation-advice').length===0){$element.parent().append('<div class="validation-advice">'+message+'</div>');}
$('.address-validate-button').prop('disabled',true);}};$('.text-field').on('keyup',function(){validatePattern($(this),/^[a-zA-ZÀ-ú\s\\.']+$/,'Numbers and special characters are not allowed');});$('.vat-field').on('keyup',function(){validatePattern($(this),/^[a-zA-Z0-9]{8,25}$/,'Please type a valid VAT number');});$('.validate-alphanum-with-spaces').on('keyup',function(){validatePattern($(this),/^[a-zA-Z0-9 ,.\-\/]+$/,'Please use only letters (a-z or A-Z), numbers (0-9) or spaces in this field.');});Validation.addAllThese([['validate-alphanum-with-spaces','Please use only letters (a-z or A-Z), numbers (0-9) or spaces in this field.',function(v){return Validation.get('IsEmpty').test(v)||/^[a-zA-Z0-9 ,.\-\/]+$/.test(v)}]]);$('.phone-field').on('keyup',function(){validatePattern($(this),/^[0-9\/\-+\s]{7,25}$/,'Please type a valid phone number');});function isValidDate(dateString){if(!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(dateString)){return false;}
var parts=dateString.split("/");var day=parseInt(parts[0],10);var month=parseInt(parts[1],10);var year=parseInt(parts[2],10);if(year<1000||year>3000||month==0||month>12){return false;}
var monthLength=[31,28,31,30,31,30,31,31,30,31,30,31];if(year%400==0||(year%100!=0&&year%4==0)){monthLength[1]=29;}
return day>0&&day<=monthLength[month-1];}
$('.date-field').on('keyup',function(){if($(this).val()==''||isValidDate($(this).val())){$(this).parent().find('.validation-advice').remove();$('.address-validate-button').prop('disabled',false);}else{if($(this).parent().find('.validation-advice').length===0){$(this).parent().append('<div class="validation-advice">Please type a valid date (DD/MM/YYYY)</div>');}
$('.address-validate-button').prop('disabled',true);}});var productContainer=$('.product-info-wrapper');var textContainerSelector='.product-hover-description > div';var imgSelector='.product-image img';truncateLongText(productContainer,textContainerSelector,imgSelector);$(window).resize(function(){truncateLongText(productContainer,textContainerSelector,imgSelector);});});var newCountryDropDown=function($country,$regionId,$region){var $regionDropdown=$regionId;var $regionInput=$region;var dataKey='default-placeholder';if('US'===$country.val()){dataKey='usa-placeholder';}else if('IT'===$country.val()){dataKey='italy-placeholder';}
$regionInput.attr('placeholder',$regionDropdown.data(dataKey));$regionDropdown.children().first().html($regionDropdown.data(dataKey));}
var countryDropDown=function($country,$regionId,$region){$country.change(function(){var $regionDropdown=$regionId;var $regionInput=$region;var dataKey='default-placeholder';if('US'===$country.val()){dataKey='usa-placeholder';}else if('IT'===$country.val()){dataKey='italy-placeholder';}
$regionInput.attr('placeholder',$regionDropdown.data(dataKey));$regionDropdown.children().first().html($regionDropdown.data(dataKey));}).change();};var HeaderCart=(function($){var countUrl,dropdownUrl;var setCountUrl=function(url){countUrl=url;};var setDropdownUrl=function(url){dropdownUrl=url;};var fetchCount=function(callback,reset){if(typeof reset==='function'){reset();}
$.get(countUrl,function(response){callback.call(this,response.count||0);});};var fetchDropdown=function(callback){$.get(dropdownUrl,function(response){callback.call(this,response.content||'');});};return{setCountUrl:setCountUrl,setDropdownUrl:setDropdownUrl,fetchCount:fetchCount,fetchDropdown:fetchDropdown};}(jQuery));var truncateLongText=(function($){var truncate=function($textContainer){var containerHeight=$textContainer.height();var text=$textContainer.attr('data-title');if(!text){return;}
$textContainer.html('<span>'+text+'</span>');var child=$textContainer.children(':first-child');var shortText=text;while(shortText.length>0&&child.height()>containerHeight){shortText=shortText.substr(0,shortText.length-1);child.html(shortText+'<span class="ellipsis">&hellip;</span>');}
if(shortText<text){var words=shortText.split(' ');var fullwords=text.split(' ');if(words[words.length-1]!=fullwords[words.length-1]){words.splice(-1,1);shortText=words.join(' ');}
$textContainer.html(shortText+'<span class="ellipsis">&hellip;</span>');}else{$textContainer.html(text);}};return function($productContainer,textSelector,imgSelector){$productContainer.each(function(index,element){var $siblingImg=imgSelector?$(this).find(imgSelector):null;var $textCont=$(this).find(textSelector);if($textCont.length!==0){if($siblingImg){$siblingImg.one("load",function(){truncate($textCont);}).each(function(){if(this.complete)$(this).load();});}else{truncate($textCont);}}});};}(jQuery));var HeaderQuotes=(function($){var getDropdown=function(dropdownUrl,$targetElement){$.get(dropdownUrl,function(response){$targetElement.html(response.content);});};var getCount=function(countUrl,$targetElement){$.get(countUrl,function(response){$targetElement.html(response.count).toggle(response.count>0);});};return{getDropdown:getDropdown,getCount:getCount};}(jQuery));(function($,window){$(window).load(function(){var $sidebar=$('.distributor-col-left');var $distributorMenu=$('.distributor-menu');var sidebarHeight=$sidebar.children().toArray().reduce(function(sum,item){return $(item).outerHeight(true)+sum;},0);var $wrap=$('.distributor-col-wrapper');var startSidebarOffset;var startMenuOffset;if($sidebar.length){startSidebarOffset=$sidebar.offset().top;startMenuOffset=$distributorMenu.offset().top;$(window).on('scroll resize',function(){var isMobile=$(window).width()<1024;var headerHeight=$('.arduino-nav').height();var noticeHeight=$('#sc-global-notice').height();$sidebar.toggleClass('fixed',!isMobile&&($(window).scrollTop()>startSidebarOffset-headerHeight-noticeHeight-44)).toggleClass('bottom',!isMobile&&($(window).scrollTop()+sidebarHeight+144>$wrap.offset().top+$wrap.height()));$distributorMenu.toggleClass('fixed',isMobile&&($(window).scrollTop()>startMenuOffset-headerHeight-noticeHeight));});}});}(jQuery,window));